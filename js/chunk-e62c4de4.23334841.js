(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e62c4de4"],{"0a44":function(t,e,i){},1294:function(t,e){},"1b49":function(t,e,i){"use strict";var n=i("a8e5"),o=i.n(n);o.a},"200a":function(t,e,i){},"7a74":function(t,e,i){t.exports=i.p+"img/back.26df9036.svg"},"7be8":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"detail"}},[i("detail-nav-bar",{ref:"nav",staticClass:"detail-nav",on:{titleClick:t.titleClick}}),i("scroll",{ref:"scroll",staticClass:"content",attrs:{"proto-type":3,"pull-up-load":!0},on:{scroll:t.detailScroll}},[i("detail-swiper",{attrs:{itemImg:t.itemImg}}),i("detail-goods-info",{ref:"goodsInfo",attrs:{goodsInfo:t.goodsInfo}}),i("detail-introduce",{ref:"introduce",attrs:{introduce:t.introduce},on:{introduceLoad:t.introduceLoad}}),i("detail-recommend",{ref:"recommend"})],1),i("detail-bottom-bar",{on:{addCart:t.addCart}}),i("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],nativeOn:{click:function(e){return t.backTopClick(e)}}})],1)},o=[],s=(i("fb6a"),i("d399")),a=i("9fb0"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("navbar",[n("div",{staticClass:"back",attrs:{slot:"left"},on:{click:t.backClick},slot:"left"},[n("img",{attrs:{src:i("7a74"),alt:"返回"}})]),n("div",{staticClass:"title",attrs:{slot:"center"},slot:"center"},t._l(t.titles,(function(e,i){return n("div",{key:i,staticClass:"title-item",class:{active:i===t.currentIndex},on:{click:function(e){return t.titleClick(i)}}},[n("b",[t._v(t._s(e))])])})),0)])],1)},r=[],l=i("1f8a"),d={components:{navbar:l["default"]},data:function(){return{titles:["商品","参数","评论","推荐"],currentIndex:0}},methods:{backClick:function(){this.$router.back()},titleClick:function(t){this.currentIndex=t,this.$emit("titleClick",t)}}},u=d,f=(i("e3d6"),i("2877")),m=Object(f["a"])(u,c,r,!1,null,"53dd20f4",null),p=m.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("swiper",t._l(t.itemImg,(function(t){return i("swiper-item",[i("img",{attrs:{src:t.pics_big,alt:""}})])})),1)},v=[],g=i("dc2c"),b={components:{Swiper:g["a"],SwiperItem:g["b"]},props:{itemImg:{type:Array,default:function(){return[]}}}},k=b,I=Object(f["a"])(k,h,v,!1,null,null,null),_=I.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{domProps:{innerHTML:t._s(t.introduce)}})])},C=[],$={props:{introduce:{type:String,default:""}},updated:function(){var t=this;setTimeout((function(){t.$emit("introduceLoad")}),500)}},x=$,w=Object(f["a"])(x,T,C,!1,null,null,null),y=w.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h3",{staticClass:"info-title"},[t._v("商品信息")]),i("table",{staticClass:"goods-info",attrs:{cellspacing:"0"}},t._l(t.goodsInfo,(function(e,n){return i("tr",{key:n},[i("td",[t._v(t._s(e.attr_name))]),i("td",{staticClass:"info"},[t._v(t._s(e.attr_value))])])})),0)])},S=[],j={props:{goodsInfo:{type:Array,default:function(){return[]}}}},O=j,B=(i("84c5"),Object(f["a"])(O,Y,S,!1,null,"461be800",null)),E=B.exports,L=i("ab5d"),P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bottom-bar"},[i("van-goods-action",[i("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服"},on:{click:t.onClickIcon}}),i("van-goods-action-icon",{attrs:{icon:"cart-o",text:"购物车"},on:{click:t.onClickIcon}}),i("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"},on:{click:t.addToCart}}),i("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"},on:{click:t.addToCart}})],1)],1)},A=[],J={methods:{onClickIcon:function(){this.$router.push("/cart")},addToCart:function(){this.$emit("addCart")}}},N=J,G=(i("a31c"),Object(f["a"])(N,P,A,!1,null,"5c2b28d1",null)),H=G.exports,M=i("1bab");function R(t){return Object(M["a"])({url:"https://api-hmugo-web.itheima.net/api/public/v1/goods/detail",params:{goods_id:t}})}var q=i("4c3c"),z={components:{backTop:q["default"]},data:function(){return{isShowBackTop:!1}},methods:{backTopClick:function(){this.$refs.scroll.scrollTo(0,0)}}},D={name:"detail",mixins:[z],components:{detailNavBar:p,detailSwiper:_,detailIntroduce:y,detailGoodsInfo:E,detailRecommend:L["default"],detailBottomBar:H,scroll:a["a"]},data:function(){return{itemId:null,itemTitle:"",itemPrice:0,itemImg:[],introduce:null,goodsInfo:[],themeTopYs:[],currentIndex:0}},created:function(){var t=this;this.itemId=this.$route.params.itemId,R(this.itemId).then((function(e){t.itemImg=e.data.message.pics,t.itemPrice=e.data.message.goods_price,t.introduce=e.data.message.goods_introduce,t.goodsInfo=e.data.message.attrs,t.itemTitle=e.data.message.goods_name}))},updated:function(){},methods:{introduceLoad:function(){this.$refs.scroll.refresh(),this.themeTopYs=[],this.themeTopYs.push(0),this.themeTopYs.push(this.$refs.goodsInfo.$el.offsetTop),this.themeTopYs.push(this.$refs.introduce.$el.offsetTop),this.themeTopYs.push(this.$refs.recommend.$el.offsetTop)},titleClick:function(t){this.$refs.scroll.scrollTo(0,44-this.themeTopYs[t])},detailScroll:function(t){this.isShowBackTop=-t.y>668;for(var e=44-t.y,i=this.themeTopYs.length,n=0;n<i;n++)(this.currentIndex!==n&&n<i-1&&e>=this.themeTopYs[n]&&e<this.themeTopYs[n+1]||n===i-1&&e>=this.themeTopYs[n])&&(this.currentIndex=n,this.$refs.nav.currentIndex=this.currentIndex)},addCart:function(){var t={};t.img=this.itemImg[0]?this.itemImg[0].pics_mid:"http://img5.imgtn.bdimg.com/it/u=353651031,4273095768&fm=26&gp=0.jpg",t.title=this.itemTitle.slice(0,5),t.desc=this.itemTitle,t.price=this.itemPrice,t.itemId=this.itemId,this.$store.dispatch("addCart",t).then((function(t){s["a"].success(t)}))}}},F=D,K=(i("1b49"),Object(f["a"])(F,n,o,!1,null,"cd32b1d8",null));e["default"]=K.exports},"7ee6":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",t._l(100,(function(e){return i("li",[t._v("推荐"+t._s(e))])})),0)])},o=[]},"84c5":function(t,e,i){"use strict";var n=i("9337"),o=i.n(n);o.a},9337:function(t,e,i){},a31c:function(t,e,i){"use strict";var n=i("0a44"),o=i.n(n);o.a},a8e5:function(t,e,i){},ab5d:function(t,e,i){"use strict";var n=i("7ee6"),o=i("c458"),s=i("2877"),a=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=a.exports},c458:function(t,e,i){"use strict";var n=i("1294"),o=i.n(n);e["default"]=o.a},e3d6:function(t,e,i){"use strict";var n=i("200a"),o=i.n(n);o.a}}]);
//# sourceMappingURL=chunk-e62c4de4.23334841.js.map